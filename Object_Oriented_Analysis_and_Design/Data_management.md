# 数据管理系统部分的设计

- 数据管理部分负责存储和检索持久对象

## 如何设计数据管理部分

### 面向对象、实体关系模型以及关系数据库中的概念间的对应关系

|面向对象|实体-关系模型|关系数据库|
|:---:|:---:|:----:|
|类|实体类型|表|
|对象|实体类型|行|
|属性|属性|列|
|关系|关系|表|

### 对持久类的存储设计

- 确定要存储对象的哪些属性值
- 按时间与空间要求进行权衡
  - 拆分类使得修改后的类对应的表满足范式要求
  - 不修改类而是让一个类对应两个或多个表

### 对关系的存储设计

#### 关联
- 一对一的关联，可使用外键隐含
- 一对多的关联，可在“多”的类中使用外键隐含
- 多对多的关联，先转化为一对多，然后再按照一对多的方式设计

#### 继承

- 把一般类的各特殊类的属性都集中到一般类中创建一张表
- 在一般类创建对象的情况下，可为一般类创建一个表，各个特殊类各创建一个表
- 若一般类为抽象类，则要把一般类的属性放到各特殊类，为特殊类各建一张表
